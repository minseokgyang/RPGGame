import random

ASCII_ART = '''⣿⣯⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⣿⣿⣻⣿⣻⢕
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⢕⢕
⣿⣿⣿⣽⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠟⣛⡛⠫⣻⡻⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣯⣿⣏⢕
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣯⢵⠨⠂⠊⠀⠐⠸⡯⢽⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣹⢕
⣿⣿⣾⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠗⡜⠠⡤⡀⠠⡤⠄⣇⣽⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣯⢕
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡐⢂⠀⣀⡃⢘⡀⠀⡇⣸⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣯⡹⢕
⣿⣿⣽⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡟⢜⢌⡥⣛⣃⠮⣱⠍⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⢕
⣿⣿⣻⣿⣿⣿⣿⣿⣿⣿⣿⠟⠛⠉⠱⡱⡓⣓⡔⡐⣈⢮⡣⠋⠙⠛⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣟⢕
⣿⣿⣹⣻⣿⣿⣿⣿⣿⣿⠁⠀⠀⠠⢠⠈⠋⠗⠷⠿⠺⠉⠀⠠⠀⠀⠈⣿⣿⣿⣿⣿⣿⣿⣿⣿⣾⣗⢕
⣿⣿⢻⣿⣿⣿⣿⣿⣿⡟⠀⢀⣀⣀⣹⡁⠀⠀⠀⠀⠀⠀⣀⡔⠉⠀⠀⣼⠿⣿⣿⣿⣿⣿⣿⣿⣿⠻⢕
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣧⡎⠁⠀⠀⠸⢛⠊⠉⠉⠀⠐⠒⠓⠓⣸⡀⡌⡀⢔⣼⣿⣿⣿⣿⣿⣿⣟⣕⢕
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⠀⠀⠀⢀⠀⠈⠙⠤⣤⣀⠀⠀⢧⢤⢤⣤⣈⣿⣿⣿⣿⣿⣿⣿⣿⣿⣻⢕
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣧⡀⣀⣰⣠⣀⣤⣶⣾⣿⡷⠓⠃⠀⠸⡁⠁⠛⣿⣿⣿⣿⣿⣿⣿⣿⣟⢕
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡇⠻⣿⡿⠛⠛⠉⠁⠀⡸⠀⠀⠀⠀⠀⠀⠀⠀⠘⣿⣿⣿⣿⣿⣿⣿⣗⢕
⠉⠉⠉⠉⠉⠉⠭⠭⠉⠋⣫⢩⡉⠭⠭⠭⠭⢍⣉⣹⣡⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸⡏⠭⠭⠭⢭⡭⢷⢕
⠉⠙⠉⠙⠒⠘⠐⠂⠁⠁⠀⠀⠀⠀⠀⠈⠀⠀⣿⠀⠀⠹⣶⡆⣄⢀⠀⠄⠀⠠⠂⣿⠐⠐⠒⠒⠒⠀⢕
⠉⠙⠍⠉⠭⠉⠉⠭⠭⠭⠍⠩⠍⠭⠉⢉⡿⠏⠀⠀⠹⣷⣾⢚⣺⠤⠤⢧⢽⡿⠭⠍⠉⠭⠩⠩⢕⢕⢕
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡇⠺⡂⠀⠀⠈⢿⣷⣵⣶⣶⣾⣿⣿⣿⣿⣿⣿⣿⣿⢕
⣟⠈⣟⠈⠀⠃⣿⢀⣟⢸⡇⠚⡈⢏⢸⠊⡘⢸⡧⢤⣴⠄⠀⠀⠀⠈⠉⠋⠁⠀⣿⠀⢏⠇⢽⡟⠅⡌⢕
⣿⠸⣿⠸⠀⢁⣿⠸⠈⣸⡇⠄⢑⠄⣽⠨⡀⠸⣇⣀⣿⡀⠀⠀⠀⠀⠀⠀⠀⢸⡏⠀⢈⠰⢸⡇⡁⢃⢕
⣿⠂⣿⠂⡁⢪⣿⢸⠐⣹⡷⡸⠈⠞⣿⢠⡅⡄⢩⢿⣿⣧⠆⠀⠀⠀⠀⡀⠀⠼⣧⣀⠃⠰⣹⡇⣇⠃⢕
⢛⣿⢛⣿⡟⠽⠿⢿⠛⣿⠻⢿⠻⠻⡻⣿⡿⠛⡛⡿⢿⣿⣟⢆⢁⡴⠁⠀⠀⠀⠉⣿⣿⣿⡿⠿⣿⠿⢕
⢿⠥⢿⠥⠴⠥⢬⠴⣾⢥⠤⢧⠥⡤⡭⣾⠱⠑⠀⠊⠂⠹⢿⣷⣾⢶⠀⡀⠊⠁⠀⠈⠻⣦⠽⣦⣆⣔⢕
⠄⠀⠄⠀⠄⠢⠀⣽⠃⠑⡁⠔⡂⠌⡒⡟⠛⡻⠛⡛⠛⡛⠿⣿⣿⣿⣓⠄⠀⠀⠀⠀⠀⠈⢷⣜⡳⣜⢕
⠆⢀⠆⢀⠈⠂⣱⢛⢟⠛⠛⢛⠛⡛⢻⣇⣌⣌⣔⣠⣑⣁⣡⣻⣿⣿⣿⣇⡀⠀⠀⠀⠀⠀⠀⠙⢯⠘⢕
⠴⡦⠴⡦⠥⣴⢣⠀⠄⠁⠉⠀⠢⡠⢸⠟⠉⠙⠙⠙⠩⠈⠐⠼⣿⣿⣿⣿⣷⡤⡂⠀⠀⠀⠀⠀⠀⠙⢕
⠈⣊⠈⣊⣲⢏⢀⠂⡢⠁⡨⠐⠀⠀⣿⠰⡂⠄⠒⠀⢔⢂⢍⠡⢿⣿⣿⣿⣿⣿⣗⡇⠀⠀⠀⠀⠀⠀'''

class Shop:
    def __init__(self, inventory, money):
        self.inventory = inventory
        self.money = money

    def show_items(self):
        print(ASCII_ART)
        print("=== 상점 목록 ===")
        print("1. 랜덤 스탯 티켓 (10골드)")
        print("2. 경험치 스크롤 (5골드, EXP +0~20)")
        print("3. 마나물약 (3골드)")
        print("4. 회복약 (3골드)")

    def visit(self, player):
        self.show_items()
        try:
            choice = int(input("구매할 아이템 번호를 입력하세요: "))
            if choice == 1:
                if self.money.spend(10):
                    self.inventory.add_item("랜덤스탯티켓")
            elif choice == 2:
                if self.money.spend(5):
                    exp = random.randint(0, 20)
                    player.add_exp(exp)
            elif choice == 3:
                if self.money.spend(3):
                    self.inventory.add_item("마나물약")
            elif choice == 4:
                if self.money.spend(3):
                    self.inventory.add_item("회복약")
            else:
                print("[ERROR] 잘못된 선택입니다.")
        except ValueError:
            print("[ERROR] 숫자를 입력해주세요.")
